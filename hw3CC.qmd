---
title: Homework 3
author: Catherine Cheu
date: February 10, 2023
---

For this assignment, the crashes in NYC in the month of January 2023 are analyzed.

```{python}

import pandas as pd
import numpy as np
import uszipcode as zcode
from uszipcode import SearchEngine

dfnyc = pd.read_csv("data/nyccrash_Jan2023.csv")

dfnyc.head()

```

2. We would like to see descriptions of all columns.

For numerical:

```{python}
dfnyc.describe()
```

For categorical:

```{python}
dfnyc.describe(include = 'object')
```

For missing:

```{python}
dfnyc.isnull().sum()/len(dfnyc)
```

3. Some coordinates are 0 which is nonsensical. We will correct them to NaNs.

```{python}
dfnyc[["LATITUDE", "LONGITUDE"]].replace(0.0, np.nan)
```

4. We will look to see if any off streets have missing coordinates and then fill in if they do.

6. We will use the coodinates to fill in missing zip codes and boroughs.

```{python}
search = SearchEngine()
for row in dfnyc.itertuples():
	if (~np.isnan(row.LATITUDE)) & (~np.isnan(row.LONGITUDE)) & (np.isnan(row[5])) & (row.BOROUGH == 'NaN'):
		r = search.by_coordinates(row.LATITUDE, row.LONGITUDE)
		row[5] = r[0]
	if 10001 <= row[5] <= 10282:
		row.BOUROUGH = "Manhatten"
	elif 10301 <= row[5] <= 10314:
		row.BOROUGH = "Staten Island"
	elif 10451 <= row[5] <= 10475:
		row.BOROUGH = "Bronx"
	elif 11004 <= row[5] <= 11109 || 11351 <= row[5] <= 11697:
		row.BOROUGH = "Queens"
	elif 11201 <= row[5] <= 11256:
		row.BOROUGH = "Brooklyn"
```

7. We want to see the frequencies for the contributing factors for vehicle 1.

```{python}
dfnyc["CONTRIBUTING FACTOR VEHICLE 1"].value_counts()
```

We then set all cases to upper in the column and redo the table.

```{python}

dfnyc["CONTRIBUTING FACTOR VEHICLE 1"].str.upper().value_counts()

```

# Recommendations
